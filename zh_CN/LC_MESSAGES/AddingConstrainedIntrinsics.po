# SOME DESCRIPTIVE TITLE.
# Copyright (C) 2003-2025, LLVM Project
# This file is distributed under the same license as the LLVM package.
# FIRST AUTHOR <EMAIL@ADDRESS>, YEAR.
#
#, fuzzy
msgid ""
msgstr ""
"Project-Id-Version: LLVM main\n"
"Report-Msgid-Bugs-To: \n"
"POT-Creation-Date: 2025-10-13 08:36+0000\n"
"PO-Revision-Date: YEAR-MO-DA HO:MI+ZONE\n"
"Last-Translator: FULL NAME <EMAIL@ADDRESS>\n"
"Language-Team: LANGUAGE <LL@li.org>\n"
"Language: zh_CN\n"
"MIME-Version: 1.0\n"
"Content-Type: text/plain; charset=UTF-8\n"
"Content-Transfer-Encoding: 8bit\n"

#: ../../../AddingConstrainedIntrinsics.rst:3
msgid "How To Add A Constrained Floating-Point Intrinsic"
msgstr ""

#: ../../../AddingConstrainedIntrinsics.rst:9
msgid "This is a work in progress."
msgstr ""

#: ../../../AddingConstrainedIntrinsics.rst:12
msgid "Add the intrinsic"
msgstr ""

#: ../../../AddingConstrainedIntrinsics.rst:14
msgid ""
"Multiple files need to be updated when adding a new constrained intrinsic."
msgstr ""

#: ../../../AddingConstrainedIntrinsics.rst:16
msgid "Add the new intrinsic to the table of intrinsics::"
msgstr ""

#: ../../../AddingConstrainedIntrinsics.rst:21
msgid "Add SelectionDAG node types"
msgstr ""

#: ../../../AddingConstrainedIntrinsics.rst:23
msgid ""
"Add the new ``STRICT`` version of the node type to the ``ISD::NodeType`` "
"enum::"
msgstr ""

#: ../../../AddingConstrainedIntrinsics.rst:27
msgid ""
"Strict version name must be a concatenation of prefix ``STRICT_`` and the "
"name of the corresponding non-strict node name. For instance, strict version "
"of the node ``FADD`` must be ``STRICT_FADD``."
msgstr ""

#: ../../../AddingConstrainedIntrinsics.rst:32
msgid "Update mappings"
msgstr ""

#: ../../../AddingConstrainedIntrinsics.rst:34
msgid ""
"Add new record to the mapping of instructions to constrained intrinsic and "
"DAG nodes::"
msgstr ""

#: ../../../AddingConstrainedIntrinsics.rst:39
msgid "Follow instructions provided in this file."
msgstr ""

#: ../../../AddingConstrainedIntrinsics.rst:42
msgid "Update IR components"
msgstr ""

#: ../../../AddingConstrainedIntrinsics.rst:44
msgid "Update the IR verifier::"
msgstr ""

#: ../../../AddingConstrainedIntrinsics.rst:49
msgid "Update Selector components"
msgstr ""

#: ../../../AddingConstrainedIntrinsics.rst:52
msgid "Building the SelectionDAG"
msgstr ""

#: ../../../AddingConstrainedIntrinsics.rst:54
msgid ""
"The ``SelectionDAGBuilder::visitConstrainedFPIntrinsic`` function builds DAG "
"nodes using mappings specified in ``ConstrainedOps.def``. If however this "
"default build is not sufficient, the build can be modified, see how it is "
"implemented for ``STRICT_FP_ROUND``. The new ``STRICT`` node will eventually "
"be converted to the matching non-``STRICT`` node. For this reason it should "
"have the same operands and values as the non-``STRICT`` version but should "
"also use the chain. This makes subsequent sharing of code for ``STRICT`` and "
"non-``STRICT`` code paths easier::"
msgstr ""

#: ../../../AddingConstrainedIntrinsics.rst:65
msgid ""
"Most of the ``STRICT`` nodes get legalized the same as their matching non-"
"``STRICT`` counterparts. A new ``STRICT`` node with this property must get "
"added to the switch in ``SelectionDAGLegalize::LegalizeOp()``::"
msgstr ""

#: ../../../AddingConstrainedIntrinsics.rst:71
msgid ""
"Other parts of the legalizer may need to be updated as well. Look for places "
"where the non-``STRICT`` counterpart is legalized and update as needed. Be "
"careful of the chain since ``STRICT`` nodes use it but their counterparts "
"often don't."
msgstr ""

#: ../../../AddingConstrainedIntrinsics.rst:76
msgid ""
"The conversion or mutation of the ``STRICT`` node to a non-``STRICT`` "
"version of the node happens in ``SelectionDAG::mutateStrictFPToFP()``. In "
"most cases the function can do the conversion using information from "
"ConstrainedOps.def. Be careful updating this function since some nodes have "
"the same return type as their input operand, but some are different. Both of "
"these cases must be properly handled::"
msgstr ""

#: ../../../AddingConstrainedIntrinsics.rst:85
msgid ""
"Whether the mutation happens or not depends on how the new node has been "
"registered in ``TargetLoweringBase::initActions()``. By default, all strict "
"nodes are registered with Expand action::"
msgstr ""

#: ../../../AddingConstrainedIntrinsics.rst:91
msgid ""
"To make debug logs readable, it is helpful to update the SelectionDAG's "
"debug logger:::"
msgstr ""

#: ../../../AddingConstrainedIntrinsics.rst:97
msgid "Add documentation and tests"
msgstr ""
