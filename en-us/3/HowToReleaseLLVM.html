
<!DOCTYPE html>

<html lang="en-US" data-content_root="./">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>How To Release LLVM To The Public &#8212; LLVM 3.9 documentation</title>
    <link rel="stylesheet" type="text/css" href="_static/pygments.css?v=d75fae25" />
    <link rel="stylesheet" type="text/css" href="_static/llvm-theme.css?v=4c4af0c1" />
    <script src="_static/documentation_options.js?v=2141e1c1"></script>
    <script src="_static/doctools.js?v=9bcbadda"></script>
    <script src="_static/sphinx_highlight.js?v=dc90522c"></script>
    <link rel="canonical" href="https://projects.localizethedocs.org/llvm-docs-l10n/HowToReleaseLLVM.html" />
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Advice on Packaging LLVM" href="Packaging.html" />
    <link rel="prev" title="LLVMBuild Guide" href="LLVMBuild.html" />
<script type="text/javascript" src="ltd-provenance.js"></script>
<script type="text/javascript" src="ltd-current.js"></script>
<script type="text/javascript" src="../../ltd-config.js"></script>
<script type="text/javascript" src="../../ltd-flyout.js"></script>

  </head><body>
<div class="logo">
  <a href="index.html">
    <img src="_static/logo.png"
         alt="LLVM Logo" width="250" height="88"/></a>
</div>

    <div class="related" role="navigation" aria-label="Related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="Packaging.html" title="Advice on Packaging LLVM"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="LLVMBuild.html" title="LLVMBuild Guide"
             accesskey="P">previous</a> |</li>
  <li><a href="https://llvm.org/">LLVM Home</a>&nbsp;|&nbsp;</li>
  <li><a href="index.html">Documentation</a>&raquo;</li>

        <li class="nav-item nav-item-this"><a href="">How To Release LLVM To The Public</a></li> 
      </ul>
    </div>


    <div class="document">
      <div class="documentwrapper">
          <div class="body" role="main">
            
  <section id="how-to-release-llvm-to-the-public">
<h1>How To Release LLVM To The Public<a class="headerlink" href="#how-to-release-llvm-to-the-public" title="Link to this heading">¶</a></h1>
<nav class="contents local" id="contents">
<ul class="simple">
<li><p><a class="reference internal" href="#introduction" id="id2">Introduction</a></p></li>
<li><p><a class="reference internal" href="#release-timeline" id="id3">Release Timeline</a></p></li>
<li><p><a class="reference internal" href="#release-process" id="id4">Release Process</a></p></li>
</ul>
</nav>
<section id="introduction">
<h2><a class="toc-backref" href="#id2" role="doc-backlink">Introduction</a><a class="headerlink" href="#introduction" title="Link to this heading">¶</a></h2>
<p>This document contains information about successfully releasing LLVM —
including subprojects: e.g., <code class="docutils literal notranslate"><span class="pre">clang</span></code> and <code class="docutils literal notranslate"><span class="pre">dragonegg</span></code> — to the public.  It
is the Release Manager’s responsibility to ensure that a high quality build of
LLVM is released.</p>
<p>If you’re looking for the document on how to test the release candidates and
create the binary packages, please refer to the <a class="reference internal" href="ReleaseProcess.html"><span class="doc">How To Validate a New Release</span></a> instead.</p>
</section>
<section id="release-timeline">
<span id="timeline"></span><h2><a class="toc-backref" href="#id3" role="doc-backlink">Release Timeline</a><a class="headerlink" href="#release-timeline" title="Link to this heading">¶</a></h2>
<p>LLVM is released on a time based schedule — with major releases roughly
every 6 months.  In between major releases there may be dot releases.
The release manager will determine if and when to make a dot release based
on feedback from the community.  Typically, dot releases should be made if
there are large number of bug-fixes in the stable branch or a critical bug
has been discovered that affects a large number of users.</p>
<p>Unless otherwise stated, dot releases will follow the same procedure as
major releases.</p>
<p>The release process is roughly as follows:</p>
<ul class="simple">
<li><p>Set code freeze and branch creation date for 6 months after last code freeze
date.  Announce release schedule to the LLVM community and update the website.</p></li>
<li><p>Create release branch and begin release process.</p></li>
<li><p>Send out release candidate sources for first round of testing.  Testing lasts
7-10 days.  During the first round of testing, any regressions found should be
fixed.  Patches are merged from mainline into the release branch.  Also, all
features need to be completed during this time.  Any features not completed at
the end of the first round of testing will be removed or disabled for the
release.</p></li>
<li><p>Generate and send out the second release candidate sources.  Only <em>critial</em>
bugs found during this testing phase will be fixed.  Any bugs introduced by
merged patches will be fixed.  If so a third round of testing is needed.</p></li>
<li><p>The release notes are updated.</p></li>
<li><p>Finally, release!</p></li>
</ul>
<p>The release process will be accelerated for dot releases.  If the first round
of testing finds no critical bugs and no regressions since the last major release,
then additional rounds of testing will not be required.</p>
</section>
<section id="release-process">
<h2><a class="toc-backref" href="#id4" role="doc-backlink">Release Process</a><a class="headerlink" href="#release-process" title="Link to this heading">¶</a></h2>
<nav class="contents local" id="id1">
<ul class="simple">
<li><p><a class="reference internal" href="#release-administrative-tasks" id="id5">Release Administrative Tasks</a></p>
<ul>
<li><p><a class="reference internal" href="#create-release-branch" id="id6">Create Release Branch</a></p></li>
<li><p><a class="reference internal" href="#update-llvm-version" id="id7">Update LLVM Version</a></p></li>
<li><p><a class="reference internal" href="#tagging-the-llvm-release-candidates" id="id8">Tagging the LLVM Release Candidates</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#building-the-release" id="id9">Building the Release</a></p>
<ul>
<li><p><a class="reference internal" href="#build-llvm" id="id10">Build LLVM</a></p></li>
<li><p><a class="reference internal" href="#build-clang-binary-distribution" id="id11">Build Clang Binary Distribution</a></p></li>
<li><p><a class="reference internal" href="#target-specific-build-details" id="id12">Target Specific Build Details</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#release-qualification-criteria" id="id13">Release Qualification Criteria</a></p>
<ul>
<li><p><a class="reference internal" href="#qualify-llvm" id="id14">Qualify LLVM</a></p></li>
<li><p><a class="reference internal" href="#qualify-clang" id="id15">Qualify Clang</a></p></li>
<li><p><a class="reference internal" href="#specific-target-qualification-details" id="id16">Specific Target Qualification Details</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#community-testing" id="id17">Community Testing</a></p></li>
<li><p><a class="reference internal" href="#release-patch-rules" id="id18">Release Patch Rules</a></p>
<ul>
<li><p><a class="reference internal" href="#merging-patches" id="id19">Merging Patches</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#release-final-tasks" id="id20">Release Final Tasks</a></p>
<ul>
<li><p><a class="reference internal" href="#update-documentation" id="id21">Update Documentation</a></p></li>
<li><p><a class="reference internal" href="#tag-the-llvm-final-release" id="id22">Tag the LLVM Final Release</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#update-the-llvm-demo-page" id="id23">Update the LLVM Demo Page</a></p>
<ul>
<li><p><a class="reference internal" href="#update-the-llvm-website" id="id24">Update the LLVM Website</a></p></li>
<li><p><a class="reference internal" href="#announce-the-release" id="id25">Announce the Release</a></p></li>
</ul>
</li>
</ul>
</nav>
<section id="release-administrative-tasks">
<h3><a class="toc-backref" href="#id5" role="doc-backlink">Release Administrative Tasks</a><a class="headerlink" href="#release-administrative-tasks" title="Link to this heading">¶</a></h3>
<p>This section describes a few administrative tasks that need to be done for the
release process to begin.  Specifically, it involves:</p>
<ul class="simple">
<li><p>Creating the release branch,</p></li>
<li><p>Setting version numbers, and</p></li>
<li><p>Tagging release candidates for the release team to begin testing.</p></li>
</ul>
<section id="create-release-branch">
<h4><a class="toc-backref" href="#id6" role="doc-backlink">Create Release Branch</a><a class="headerlink" href="#create-release-branch" title="Link to this heading">¶</a></h4>
<p>Branch the Subversion trunk using the following procedure:</p>
<ol class="arabic">
<li><p>Remind developers that the release branching is imminent and to refrain from
committing patches that might break the build.  E.g., new features, large
patches for works in progress, an overhaul of the type system, an exciting
new TableGen feature, etc.</p></li>
<li><p>Verify that the current Subversion trunk is in decent shape by
examining nightly tester and buildbot results.</p></li>
<li><p>Create the release branch for <code class="docutils literal notranslate"><span class="pre">llvm</span></code>, <code class="docutils literal notranslate"><span class="pre">clang</span></code>, the <code class="docutils literal notranslate"><span class="pre">test-suite</span></code>, and
<code class="docutils literal notranslate"><span class="pre">dragonegg</span></code> from the last known good revision.  The branch’s name is
<code class="docutils literal notranslate"><span class="pre">release_XY</span></code>, where <code class="docutils literal notranslate"><span class="pre">X</span></code> is the major and <code class="docutils literal notranslate"><span class="pre">Y</span></code> the minor release
numbers.  The branches should be created using the following commands:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ svn copy https://llvm.org/svn/llvm-project/llvm/trunk \
           https://llvm.org/svn/llvm-project/llvm/branches/release_XY

$ svn copy https://llvm.org/svn/llvm-project/cfe/trunk \
           https://llvm.org/svn/llvm-project/cfe/branches/release_XY

$ svn copy https://llvm.org/svn/llvm-project/dragonegg/trunk \
           https://llvm.org/svn/llvm-project/dragonegg/branches/release_XY

$ svn copy https://llvm.org/svn/llvm-project/test-suite/trunk \
           https://llvm.org/svn/llvm-project/test-suite/branches/release_XY
</pre></div>
</div>
</li>
<li><p>Advise developers that they may now check their patches into the Subversion
tree again.</p></li>
<li><p>The Release Manager should switch to the release branch, because all changes
to the release will now be done in the branch.  The easiest way to do this is
to grab a working copy using the following commands:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ svn co https://llvm.org/svn/llvm-project/llvm/branches/release_XY llvm-X.Y

$ svn co https://llvm.org/svn/llvm-project/cfe/branches/release_XY clang-X.Y

$ svn co https://llvm.org/svn/llvm-project/dragonegg/branches/release_XY dragonegg-X.Y

$ svn co https://llvm.org/svn/llvm-project/test-suite/branches/release_XY test-suite-X.Y
</pre></div>
</div>
</li>
</ol>
</section>
<section id="update-llvm-version">
<h4><a class="toc-backref" href="#id7" role="doc-backlink">Update LLVM Version</a><a class="headerlink" href="#update-llvm-version" title="Link to this heading">¶</a></h4>
<p>After creating the LLVM release branch, update the release branches’
<code class="docutils literal notranslate"><span class="pre">autoconf</span></code> and <code class="docutils literal notranslate"><span class="pre">configure.ac</span></code> versions from ‘<code class="docutils literal notranslate"><span class="pre">X.Ysvn</span></code>’ to ‘<code class="docutils literal notranslate"><span class="pre">X.Y</span></code>’.
Update it on mainline as well to be the next version (’<code class="docutils literal notranslate"><span class="pre">X.Y+1svn</span></code>’).
Regenerate the configure scripts for both <code class="docutils literal notranslate"><span class="pre">llvm</span></code> and the <code class="docutils literal notranslate"><span class="pre">test-suite</span></code>.</p>
<p>In addition, the version numbers of all the Bugzilla components must be updated
for the next release.</p>
</section>
<section id="tagging-the-llvm-release-candidates">
<h4><a class="toc-backref" href="#id8" role="doc-backlink">Tagging the LLVM Release Candidates</a><a class="headerlink" href="#tagging-the-llvm-release-candidates" title="Link to this heading">¶</a></h4>
<p>Tag release candidates using the tag.sh script in utils/release.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ ./tag.sh -release X.Y.Z -rc $RC
</pre></div>
</div>
<p>The Release Manager may supply pre-packaged source tarballs for users.  This can
be done with the export.sh script in utils/release.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ ./export.sh -release X.Y.Z -rc $RC
</pre></div>
</div>
<p>This will generate source tarballs for each LLVM project being validated, which
can be uploaded to the website for further testing.</p>
</section>
</section>
<section id="building-the-release">
<h3><a class="toc-backref" href="#id9" role="doc-backlink">Building the Release</a><a class="headerlink" href="#building-the-release" title="Link to this heading">¶</a></h3>
<p>The builds of <code class="docutils literal notranslate"><span class="pre">llvm</span></code>, <code class="docutils literal notranslate"><span class="pre">clang</span></code>, and <code class="docutils literal notranslate"><span class="pre">dragonegg</span></code> <em>must</em> be free of
errors and warnings in Debug, Release+Asserts, and Release builds.  If all
builds are clean, then the release passes Build Qualification.</p>
<p>The <code class="docutils literal notranslate"><span class="pre">make</span></code> options for building the different modes:</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Mode</p></th>
<th class="head"><p>Options</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Debug</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">ENABLE_OPTIMIZED=0</span></code></p></td>
</tr>
<tr class="row-odd"><td><p>Release+Asserts</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">ENABLE_OPTIMIZED=1</span></code></p></td>
</tr>
<tr class="row-even"><td><p>Release</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">ENABLE_OPTIMIZED=1</span> <span class="pre">DISABLE_ASSERTIONS=1</span></code></p></td>
</tr>
</tbody>
</table>
<section id="build-llvm">
<h4><a class="toc-backref" href="#id10" role="doc-backlink">Build LLVM</a><a class="headerlink" href="#build-llvm" title="Link to this heading">¶</a></h4>
<p>Build <code class="docutils literal notranslate"><span class="pre">Debug</span></code>, <code class="docutils literal notranslate"><span class="pre">Release+Asserts</span></code>, and <code class="docutils literal notranslate"><span class="pre">Release</span></code> versions
of <code class="docutils literal notranslate"><span class="pre">llvm</span></code> on all supported platforms.  Directions to build <code class="docutils literal notranslate"><span class="pre">llvm</span></code>
are <a class="reference internal" href="GettingStarted.html"><span class="doc">here</span></a>.</p>
</section>
<section id="build-clang-binary-distribution">
<h4><a class="toc-backref" href="#id11" role="doc-backlink">Build Clang Binary Distribution</a><a class="headerlink" href="#build-clang-binary-distribution" title="Link to this heading">¶</a></h4>
<p>Creating the <code class="docutils literal notranslate"><span class="pre">clang</span></code> binary distribution (Debug/Release+Asserts/Release)
requires performing the following steps for each supported platform:</p>
<ol class="arabic simple">
<li><p>Build clang according to the directions <a class="reference external" href="http://clang.llvm.org/get_started.html">here</a>.</p></li>
<li><p>Build both a Debug and Release version of clang.  The binary will be the
Release build.</p></li>
<li><p>Package <code class="docutils literal notranslate"><span class="pre">clang</span></code> (details to follow).</p></li>
</ol>
</section>
<section id="target-specific-build-details">
<h4><a class="toc-backref" href="#id12" role="doc-backlink">Target Specific Build Details</a><a class="headerlink" href="#target-specific-build-details" title="Link to this heading">¶</a></h4>
<p>The table below specifies which compilers are used for each Arch/OS combination
when qualifying the build of <code class="docutils literal notranslate"><span class="pre">llvm</span></code>, <code class="docutils literal notranslate"><span class="pre">clang</span></code>, and <code class="docutils literal notranslate"><span class="pre">dragonegg</span></code>.</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Architecture</p></th>
<th class="head"><p>OS</p></th>
<th class="head"><p>compiler</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>x86-32</p></td>
<td><p>Mac OS 10.5</p></td>
<td><p>gcc 4.0.1</p></td>
</tr>
<tr class="row-odd"><td><p>x86-32</p></td>
<td><p>Linux</p></td>
<td><p>gcc 4.2.X, gcc 4.3.X</p></td>
</tr>
<tr class="row-even"><td><p>x86-32</p></td>
<td><p>FreeBSD</p></td>
<td><p>gcc 4.2.X</p></td>
</tr>
<tr class="row-odd"><td><p>x86-32</p></td>
<td><p>mingw</p></td>
<td><p>gcc 3.4.5</p></td>
</tr>
<tr class="row-even"><td><p>x86-64</p></td>
<td><p>Mac OS 10.5</p></td>
<td><p>gcc 4.0.1</p></td>
</tr>
<tr class="row-odd"><td><p>x86-64</p></td>
<td><p>Linux</p></td>
<td><p>gcc 4.2.X, gcc 4.3.X</p></td>
</tr>
<tr class="row-even"><td><p>x86-64</p></td>
<td><p>FreeBSD</p></td>
<td><p>gcc 4.2.X</p></td>
</tr>
<tr class="row-odd"><td><p>ARMv7</p></td>
<td><p>Linux</p></td>
<td><p>gcc 4.6.X, gcc 4.7.X</p></td>
</tr>
</tbody>
</table>
</section>
</section>
<section id="release-qualification-criteria">
<h3><a class="toc-backref" href="#id13" role="doc-backlink">Release Qualification Criteria</a><a class="headerlink" href="#release-qualification-criteria" title="Link to this heading">¶</a></h3>
<p>A release is qualified when it has no regressions from the previous release (or
baseline).  Regressions are related to correctness first and performance second.
(We may tolerate some minor performance regressions if they are deemed
necessary for the general quality of the compiler.)</p>
<p><strong>Regressions are new failures in the set of tests that are used to qualify
each product and only include things on the list.  Every release will have
some bugs in it.  It is the reality of developing a complex piece of
software.  We need a very concrete and definitive release criteria that
ensures we have monotonically improving quality on some metric.  The metric we
use is described below.  This doesn’t mean that we don’t care about other
criteria, but these are the criteria which we found to be most important and
which must be satisfied before a release can go out.</strong></p>
<section id="qualify-llvm">
<h4><a class="toc-backref" href="#id14" role="doc-backlink">Qualify LLVM</a><a class="headerlink" href="#qualify-llvm" title="Link to this heading">¶</a></h4>
<p>LLVM is qualified when it has a clean test run without a front-end.  And it has
no regressions when using either <code class="docutils literal notranslate"><span class="pre">clang</span></code> or <code class="docutils literal notranslate"><span class="pre">dragonegg</span></code> with the
<code class="docutils literal notranslate"><span class="pre">test-suite</span></code> from the previous release.</p>
</section>
<section id="qualify-clang">
<h4><a class="toc-backref" href="#id15" role="doc-backlink">Qualify Clang</a><a class="headerlink" href="#qualify-clang" title="Link to this heading">¶</a></h4>
<p><code class="docutils literal notranslate"><span class="pre">Clang</span></code> is qualified when front-end specific tests in the <code class="docutils literal notranslate"><span class="pre">llvm</span></code> regression
test suite all pass, clang’s own test suite passes cleanly, and there are no
regressions in the <code class="docutils literal notranslate"><span class="pre">test-suite</span></code>.</p>
</section>
<section id="specific-target-qualification-details">
<h4><a class="toc-backref" href="#id16" role="doc-backlink">Specific Target Qualification Details</a><a class="headerlink" href="#specific-target-qualification-details" title="Link to this heading">¶</a></h4>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Architecture</p></th>
<th class="head"><p>OS</p></th>
<th class="head"><p>clang baseline</p></th>
<th class="head"><p>tests</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>x86-32</p></td>
<td><p>Linux</p></td>
<td><p>last release</p></td>
<td><p>llvm regression tests,
clang regression tests,
test-suite (including spec)</p></td>
</tr>
<tr class="row-odd"><td><p>x86-32</p></td>
<td><p>FreeBSD</p></td>
<td><p>last release</p></td>
<td><p>llvm regression tests,
clang regression tests,
test-suite</p></td>
</tr>
<tr class="row-even"><td><p>x86-32</p></td>
<td><p>mingw</p></td>
<td><p>none</p></td>
<td><p>QT</p></td>
</tr>
<tr class="row-odd"><td><p>x86-64</p></td>
<td><p>Mac OS 10.X</p></td>
<td><p>last release</p></td>
<td><p>llvm regression tests,
clang regression tests,
test-suite (including spec)</p></td>
</tr>
<tr class="row-even"><td><p>x86-64</p></td>
<td><p>Linux</p></td>
<td><p>last release</p></td>
<td><p>llvm regression tests,
clang regression tests,
test-suite (including spec)</p></td>
</tr>
<tr class="row-odd"><td><p>x86-64</p></td>
<td><p>FreeBSD</p></td>
<td><p>last release</p></td>
<td><p>llvm regression tests,
clang regression tests,
test-suite</p></td>
</tr>
<tr class="row-even"><td><p>ARMv7A</p></td>
<td><p>Linux</p></td>
<td><p>last release</p></td>
<td><p>llvm regression tests,
clang regression tests,
test-suite</p></td>
</tr>
</tbody>
</table>
</section>
</section>
<section id="community-testing">
<h3><a class="toc-backref" href="#id17" role="doc-backlink">Community Testing</a><a class="headerlink" href="#community-testing" title="Link to this heading">¶</a></h3>
<p>Once all testing has been completed and appropriate bugs filed, the release
candidate tarballs are put on the website and the LLVM community is notified.
Ask that all LLVM developers test the release in 2 ways:</p>
<ol class="arabic simple">
<li><p>Download <code class="docutils literal notranslate"><span class="pre">llvm-X.Y</span></code>, <code class="docutils literal notranslate"><span class="pre">llvm-test-X.Y</span></code>, and the appropriate <code class="docutils literal notranslate"><span class="pre">clang</span></code>
binary.  Build LLVM.  Run <code class="docutils literal notranslate"><span class="pre">make</span> <span class="pre">check</span></code> and the full LLVM test suite (<code class="docutils literal notranslate"><span class="pre">make</span>
<span class="pre">TEST=nightly</span> <span class="pre">report</span></code>).</p></li>
<li><p>Download <code class="docutils literal notranslate"><span class="pre">llvm-X.Y</span></code>, <code class="docutils literal notranslate"><span class="pre">llvm-test-X.Y</span></code>, and the <code class="docutils literal notranslate"><span class="pre">clang</span></code> sources.  Compile
everything.  Run <code class="docutils literal notranslate"><span class="pre">make</span> <span class="pre">check</span></code> and the full LLVM test suite (<code class="docutils literal notranslate"><span class="pre">make</span>
<span class="pre">TEST=nightly</span> <span class="pre">report</span></code>).</p></li>
</ol>
<p>Ask LLVM developers to submit the test suite report and <code class="docutils literal notranslate"><span class="pre">make</span> <span class="pre">check</span></code> results
to the list.  Verify that there are no regressions from the previous release.
The results are not used to qualify a release, but to spot other potential
problems.  For unsupported targets, verify that <code class="docutils literal notranslate"><span class="pre">make</span> <span class="pre">check</span></code> is at least
clean.</p>
<p>During the first round of testing, all regressions must be fixed before the
second release candidate is tagged.</p>
<p>If this is the second round of testing, the testing is only to ensure that bug
fixes previously merged in have not created new major problems. <em>This is not
the time to solve additional and unrelated bugs!</em> If no patches are merged in,
the release is determined to be ready and the release manager may move onto the
next stage.</p>
</section>
<section id="release-patch-rules">
<h3><a class="toc-backref" href="#id18" role="doc-backlink">Release Patch Rules</a><a class="headerlink" href="#release-patch-rules" title="Link to this heading">¶</a></h3>
<p>Below are the rules regarding patching the release branch:</p>
<ol class="arabic simple">
<li><p>Patches applied to the release branch may only be applied by the release
manager.</p></li>
<li><p>During the first round of testing, patches that fix regressions or that are
small and relatively risk free (verified by the appropriate code owner) are
applied to the branch.  Code owners are asked to be very conservative in
approving patches for the branch.  We reserve the right to reject any patch
that does not fix a regression as previously defined.</p></li>
<li><p>During the remaining rounds of testing, only patches that fix critical
regressions may be applied.</p></li>
<li><p>For dot releases all patches must maintain both API and ABI compatibility with
the previous major release.  Only bugfixes will be accepted.</p></li>
</ol>
<section id="merging-patches">
<h4><a class="toc-backref" href="#id19" role="doc-backlink">Merging Patches</a><a class="headerlink" href="#merging-patches" title="Link to this heading">¶</a></h4>
<p>The <code class="docutils literal notranslate"><span class="pre">utils/release/merge.sh</span></code> script can be used to merge individual revisions
into any one of the llvm projects. To merge revision <code class="docutils literal notranslate"><span class="pre">$N</span></code> into project
<code class="docutils literal notranslate"><span class="pre">$PROJ</span></code>, do:</p>
<ol class="arabic simple">
<li><p><code class="docutils literal notranslate"><span class="pre">svn</span> <span class="pre">co</span> <span class="pre">https://llvm.org/svn/llvm-project/$PROJ/branches/release_XX</span>
<span class="pre">$PROJ.src</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">$PROJ.src/utils/release/merge.sh</span> <span class="pre">--proj</span> <span class="pre">$PROJ</span> <span class="pre">--rev</span> <span class="pre">$N</span></code></p></li>
<li><p>Run regression tests.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">cd</span> <span class="pre">$PROJ.src</span></code>. Run the <code class="docutils literal notranslate"><span class="pre">svn</span> <span class="pre">commit</span></code> command printed out by <code class="docutils literal notranslate"><span class="pre">merge.sh</span></code>
in step 2.</p></li>
</ol>
</section>
</section>
<section id="release-final-tasks">
<h3><a class="toc-backref" href="#id20" role="doc-backlink">Release Final Tasks</a><a class="headerlink" href="#release-final-tasks" title="Link to this heading">¶</a></h3>
<p>The final stages of the release process involves tagging the “final” release
branch, updating documentation that refers to the release, and updating the
demo page.</p>
<section id="update-documentation">
<h4><a class="toc-backref" href="#id21" role="doc-backlink">Update Documentation</a><a class="headerlink" href="#update-documentation" title="Link to this heading">¶</a></h4>
<p>Review the documentation and ensure that it is up to date.  The “Release Notes”
must be updated to reflect new features, bug fixes, new known issues, and
changes in the list of supported platforms.  The “Getting Started Guide” should
be updated to reflect the new release version number tag available from
Subversion and changes in basic system requirements.  Merge both changes from
mainline into the release branch.</p>
</section>
<section id="tag-the-llvm-final-release">
<span id="tag"></span><h4><a class="toc-backref" href="#id22" role="doc-backlink">Tag the LLVM Final Release</a><a class="headerlink" href="#tag-the-llvm-final-release" title="Link to this heading">¶</a></h4>
<p>Tag the final release sources using the tag.sh script in utils/release.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ ./tag.sh -release X.Y.Z -final
</pre></div>
</div>
</section>
</section>
<section id="update-the-llvm-demo-page">
<h3><a class="toc-backref" href="#id23" role="doc-backlink">Update the LLVM Demo Page</a><a class="headerlink" href="#update-the-llvm-demo-page" title="Link to this heading">¶</a></h3>
<p>The LLVM demo page must be updated to use the new release.  This consists of
using the new <code class="docutils literal notranslate"><span class="pre">clang</span></code> binary and building LLVM.</p>
<section id="update-the-llvm-website">
<h4><a class="toc-backref" href="#id24" role="doc-backlink">Update the LLVM Website</a><a class="headerlink" href="#update-the-llvm-website" title="Link to this heading">¶</a></h4>
<p>The website must be updated before the release announcement is sent out.  Here
is what to do:</p>
<ol class="arabic simple">
<li><p>Check out the <code class="docutils literal notranslate"><span class="pre">www</span></code> module from Subversion.</p></li>
<li><p>Create a new subdirectory <code class="docutils literal notranslate"><span class="pre">X.Y</span></code> in the releases directory.</p></li>
<li><p>Commit the <code class="docutils literal notranslate"><span class="pre">llvm</span></code>, <code class="docutils literal notranslate"><span class="pre">test-suite</span></code>, <code class="docutils literal notranslate"><span class="pre">clang</span></code> source, <code class="docutils literal notranslate"><span class="pre">clang</span> <span class="pre">binaries</span></code>,
<code class="docutils literal notranslate"><span class="pre">dragonegg</span></code> source, and <code class="docutils literal notranslate"><span class="pre">dragonegg</span></code> binaries in this new directory.</p></li>
<li><p>Copy and commit the <code class="docutils literal notranslate"><span class="pre">llvm/docs</span></code> and <code class="docutils literal notranslate"><span class="pre">LICENSE.txt</span></code> files into this new
directory.  The docs should be built with <code class="docutils literal notranslate"><span class="pre">BUILD_FOR_WEBSITE=1</span></code>.</p></li>
<li><p>Commit the <code class="docutils literal notranslate"><span class="pre">index.html</span></code> to the <code class="docutils literal notranslate"><span class="pre">release/X.Y</span></code> directory to redirect (use
from previous release).</p></li>
<li><p>Update the <code class="docutils literal notranslate"><span class="pre">releases/download.html</span></code> file with the new release.</p></li>
<li><p>Update the <code class="docutils literal notranslate"><span class="pre">releases/index.html</span></code> with the new release and link to release
documentation.</p></li>
<li><p>Finally, update the main page (<code class="docutils literal notranslate"><span class="pre">index.html</span></code> and sidebar) to point to the
new release and release announcement.  Make sure this all gets committed back
into Subversion.</p></li>
</ol>
</section>
<section id="announce-the-release">
<h4><a class="toc-backref" href="#id25" role="doc-backlink">Announce the Release</a><a class="headerlink" href="#announce-the-release" title="Link to this heading">¶</a></h4>
<p>Have Chris send out the release announcement when everything is finished.</p>
</section>
</section>
</section>
</section>


            <div class="clearer"></div>
          </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="Related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="Packaging.html" title="Advice on Packaging LLVM"
             >next</a> |</li>
        <li class="right" >
          <a href="LLVMBuild.html" title="LLVMBuild Guide"
             >previous</a> |</li>
  <li><a href="https://llvm.org/">LLVM Home</a>&nbsp;|&nbsp;</li>
  <li><a href="index.html">Documentation</a>&raquo;</li>

        <li class="nav-item nav-item-this"><a href="">How To Release LLVM To The Public</a></li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
    &#169; Copyright 2003-2025, LLVM Project.
      Last updated on 2025-11-11.
      Created using <a href="https://www.sphinx-doc.org/">Sphinx</a> 8.1.3.
    </div>
  </body>
</html>