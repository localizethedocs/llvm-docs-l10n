
<!DOCTYPE html>

<html lang="en-US" data-content_root="./">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>LLVM 10.0.0 Release Notes &#8212; LLVM 10 documentation</title>
    <link rel="stylesheet" type="text/css" href="_static/pygments.css?v=d75fae25" />
    <link rel="stylesheet" type="text/css" href="_static/llvm-theme.css?v=4c4af0c1" />
    <script src="_static/documentation_options.js?v=cd4107e8"></script>
    <script src="_static/doctools.js?v=9bcbadda"></script>
    <script src="_static/sphinx_highlight.js?v=dc90522c"></script>
    <link rel="canonical" href="https://projects.localizethedocs.org/llvm-docs-l10n/ReleaseNotes.html" />
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="How to start LLVM Social in your town" href="MeetupGuidelines.html" />
    <link rel="prev" title="How To Add Your Build Configuration To LLVM Buildbot Infrastructure" href="HowToAddABuilder.html" />
<script type="text/javascript" src="ltd-provenance.js"></script>
<script type="text/javascript" src="ltd-current.js"></script>
<script type="text/javascript" src="../../ltd-config.js"></script>
<script type="text/javascript" src="../../ltd-flyout.js"></script>

  </head><body>
<div class="logo">
  <a href="index.html">
    <img src="_static/logo.png"
         alt="LLVM Logo" width="250" height="88"/></a>
</div>

    <div class="related" role="navigation" aria-label="Related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="MeetupGuidelines.html" title="How to start LLVM Social in your town"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="HowToAddABuilder.html" title="How To Add Your Build Configuration To LLVM Buildbot Infrastructure"
             accesskey="P">previous</a> |</li>
  <li><a href="https://llvm.org/">LLVM Home</a>&nbsp;|&nbsp;</li>
  <li><a href="index.html">Documentation</a>&raquo;</li>

          <li class="nav-item nav-item-1"><a href="GettingInvolved.html" accesskey="U">Getting Involved</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">LLVM 10.0.0 Release Notes</a></li> 
      </ul>
    </div>

      <div class="sphinxsidebar" role="navigation" aria-label="Main">
        <div class="sphinxsidebarwrapper">

<h3>Documentation</h3>

<ul class="want-points">
    <li><a href="GettingStartedTutorials.html">Getting Started/Tutorials</a></li>
    <li><a href="UserGuides.html">User Guides</a></li>
    <li><a href="Reference.html">Reference</a></li>
</ul>

<h3>Getting Involved</h3>

<ul class="want-points">
    <li><a href="Contributing.html">Contributing to LLVM</a></li>
    <li><a href="HowToSubmitABug.html">Submitting Bug Reports</a></li>
    <li><a href="GettingInvolved.html#mailing-lists">Mailing Lists</a></li>
    <li><a href="GettingInvolved.html#discord">Discord</a></li>
    <li><a href="GettingInvolved.html#meetups-and-social-events">Meetups and Social Events</a></li>
</ul>

<h3>Additional Links</h3>

<ul class="want-points">
    <li><a href="FAQ.html">FAQ</a></li>
    <li><a href="Lexicon.html">Glossary</a></li>
    <li><a href="https://llvm.org/pubs">Publications</a></li>
    <li><a href="https://github.com/llvm/llvm-project/">Github Repository</a></li>
</ul>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="_sources/ReleaseNotes.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<search id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</search>
<script>document.getElementById('searchbox').style.display = "block"</script>
        </div>
      </div>

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <section id="llvm-10-0-0-release-notes">
<h1>LLVM 10.0.0 Release Notes<a class="headerlink" href="#llvm-10-0-0-release-notes" title="Link to this heading">¶</a></h1>
<nav class="contents local" id="contents">
<ul class="simple">
<li><p><a class="reference internal" href="#introduction" id="id1">Introduction</a></p></li>
<li><p><a class="reference internal" href="#non-comprehensive-list-of-changes-in-this-release" id="id2">Non-comprehensive list of changes in this release</a></p>
<ul>
<li><p><a class="reference internal" href="#changes-to-the-llvm-ir" id="id3">Changes to the LLVM IR</a></p></li>
<li><p><a class="reference internal" href="#changes-to-the-aarch64-backend" id="id4">Changes to the AArch64 Backend</a></p></li>
<li><p><a class="reference internal" href="#changes-to-the-arm-backend" id="id5">Changes to the ARM Backend</a></p></li>
<li><p><a class="reference internal" href="#changes-to-the-mips-target" id="id6">Changes to the MIPS Target</a></p></li>
<li><p><a class="reference internal" href="#changes-to-the-powerpc-target" id="id7">Changes to the PowerPC Target</a></p></li>
<li><p><a class="reference internal" href="#changes-to-the-systemz-target" id="id8">Changes to the SystemZ Target</a></p></li>
<li><p><a class="reference internal" href="#changes-to-the-x86-target" id="id9">Changes to the X86 Target</a></p></li>
<li><p><a class="reference internal" href="#changes-to-the-webassembly-target" id="id10">Changes to the WebAssembly Target</a></p></li>
<li><p><a class="reference internal" href="#changes-to-the-windows-target" id="id11">Changes to the Windows Target</a></p></li>
<li><p><a class="reference internal" href="#changes-to-the-risc-v-target" id="id12">Changes to the RISC-V Target</a></p></li>
<li><p><a class="reference internal" href="#changes-to-the-c-api" id="id13">Changes to the C API</a></p></li>
<li><p><a class="reference internal" href="#changes-to-the-go-bindings" id="id14">Changes to the Go bindings</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#changes-to-lldb" id="id15">Changes to LLDB</a></p></li>
<li><p><a class="reference internal" href="#external-open-source-projects-using-llvm-10" id="id16">External Open Source Projects Using LLVM 10</a></p>
<ul>
<li><p><a class="reference internal" href="#zig-programming-language" id="id17">Zig Programming Language</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#additional-information" id="id18">Additional Information</a></p></li>
</ul>
</nav>
<section id="introduction">
<h2><a class="toc-backref" href="#id1" role="doc-backlink">Introduction</a><a class="headerlink" href="#introduction" title="Link to this heading">¶</a></h2>
<p>This document contains the release notes for the LLVM Compiler Infrastructure,
release 10.0.0.  Here we describe the status of LLVM, including major improvements
from the previous release, improvements in various subprojects of LLVM, and
some of the current users of the code.  All LLVM releases may be downloaded
from the <a class="reference external" href="https://llvm.org/releases/">LLVM releases web site</a>.</p>
<p>For more information about LLVM, including information about the latest
release, please check out the <a class="reference external" href="https://llvm.org/">main LLVM web site</a>.  If you
have questions or comments, the <a class="reference external" href="https://lists.llvm.org/mailman/listinfo/llvm-dev">LLVM Developer’s Mailing List</a> is a good place to send
them.</p>
</section>
<section id="non-comprehensive-list-of-changes-in-this-release">
<h2><a class="toc-backref" href="#id2" role="doc-backlink">Non-comprehensive list of changes in this release</a><a class="headerlink" href="#non-comprehensive-list-of-changes-in-this-release" title="Link to this heading">¶</a></h2>
<ul class="simple">
<li><p>The ISD::FP_ROUND_INREG opcode and related code was removed from SelectionDAG.</p></li>
<li><p>Enabled MemorySSA as a loop dependency. Since
<a class="reference external" href="https://reviews.llvm.org/rL370957">r370957</a>
(<a class="reference external" href="https://reviews.llvm.org/D58311">D58311</a> <code class="docutils literal notranslate"><span class="pre">[MemorySSA</span> <span class="pre">&amp;</span> <span class="pre">LoopPassManager]</span>
<span class="pre">Enable</span> <span class="pre">MemorySSA</span> <span class="pre">as</span> <span class="pre">loop</span> <span class="pre">dependency.</span> <span class="pre">Update</span> <span class="pre">tests.</span></code>), the MemorySSA analysis
is being preserved and used by a series of loop passes. The most significant
use is in LICM, where the instruction hoisting and sinking relies on aliasing
information provided by MemorySSA vs previously creating an AliasSetTracker.
The LICM step of promoting variables to scalars still relies on the creation
of an AliasSetTracker, but its use is reduced to only be enabled for loops
with a small number of overall memory instructions. This choice was motivated
by experimental results showing compile and run time benefits or replacing the
AliasSetTracker usage with MemorySSA without any performance penalties.
The fact that MemorySSA is now preserved by and available in a series of loop
passes, also opens up opportunities for its use in those respective passes.</p></li>
<li><p>The BasicBlockPass, BBPassManager and all their uses were deleted in
<a class="reference external" href="https://reviews.llvm.org/rG9f0ff0b2634bab6a5be8dace005c9eb24d386dd1">this revision</a>.</p></li>
<li><p>The LLVM_BUILD_LLVM_DYLIB and LLVM_LINK_LLVM_DYLIB CMake options are no longer
available on Windows.</p></li>
<li><p>As per <a class="reference internal" href="LangRef.html#i-getelementptr"><span class="std std-ref">LLVM Language Reference Manual</span></a>,
<code class="docutils literal notranslate"><span class="pre">getelementptr</span> <span class="pre">inbounds</span></code> can not change the null status of a pointer,
meaning it can not produce non-null pointer given null base pointer, and
likewise given non-null base pointer it can not produce null pointer; if it
does, the result is a <a class="reference internal" href="LangRef.html#poisonvalues"><span class="std std-ref">poison value</span></a>.
Since <a class="reference external" href="https://reviews.llvm.org/rL369789">r369789</a>
(<a class="reference external" href="https://reviews.llvm.org/D66608">D66608</a> <code class="docutils literal notranslate"><span class="pre">[InstCombine]</span> <span class="pre">icmp</span> <span class="pre">eq/ne</span> <span class="pre">(gep</span>
<span class="pre">inbounds</span> <span class="pre">P,</span> <span class="pre">Idx..),</span> <span class="pre">null</span> <span class="pre">-&gt;</span> <span class="pre">icmp</span> <span class="pre">eq/ne</span> <span class="pre">P,</span> <span class="pre">null</span></code>) LLVM uses that for
transformations. If the original source violates these requirements this
may result in code being miscompiled. If you are using Clang front-end,
Undefined Behaviour Sanitizer <code class="docutils literal notranslate"><span class="pre">-fsanitize=pointer-overflow</span></code> check
will now catch such cases.</p></li>
<li><p>Windows Control Flow Guard: the <code class="docutils literal notranslate"><span class="pre">-cfguard</span></code> option now emits CFG checks on
indirect function calls. The previous behavior is still available with the
<code class="docutils literal notranslate"><span class="pre">-cfguard-nochecks</span></code> option. Note that this feature should always be used
with optimizations enabled.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Callbacks</span></code> have been added to <code class="docutils literal notranslate"><span class="pre">CommandLine</span> <span class="pre">Options</span></code>.  These can
be used to validate or selectively enable other options.</p></li>
<li><p>The function attributes <code class="docutils literal notranslate"><span class="pre">no-frame-pointer-elim</span></code> and
<code class="docutils literal notranslate"><span class="pre">no-frame-pointer-elim-non-leaf</span></code> have been replaced by <code class="docutils literal notranslate"><span class="pre">frame-pointer</span></code>,
which has 3 values: <code class="docutils literal notranslate"><span class="pre">none</span></code>, <code class="docutils literal notranslate"><span class="pre">non-leaf</span></code>, and <code class="docutils literal notranslate"><span class="pre">all</span></code>. The values mean what
functions should retain frame pointers.</p></li>
<li><p>The inter-procedural analysis and optimization capabilities in the Attributor
framework and pass have been substantially advanced (initial commit
<a class="reference external" href="https://reviews.llvm.org/D59918">D59918</a>, <a class="reference external" href="https://youtu.be/CzWkc_JcfS0">LLVM-Dev talk</a>).
In this release, 19 different attributes are inferred, including 12 LLVM IR
attributes and 7 “abstract” attributes, such as liveness. The Attributor is
still under heavy development and disabled by default; to enable an early run
pass <code class="docutils literal notranslate"><span class="pre">-mllvm</span> <span class="pre">-attributor-disable=false</span></code> to an invocation of clang.</p></li>
<li><p>New matrix math intrinsics have been added to LLVM
(see <a class="reference internal" href="LangRef.html#i-matrixintrinsics"><span class="std std-ref">LLVM Language Reference Manual</span></a>), together
with the LowerMatrixIntrinsics pass. The pass lowers matrix intrinsics
to a set of efficient vector instructions. The lowering pass is off
by default and can be enabled by passing <code class="docutils literal notranslate"><span class="pre">-mllvm</span> <span class="pre">-enable-matrix</span></code> to an
invocation of clang.</p></li>
</ul>
<section id="changes-to-the-llvm-ir">
<h3><a class="toc-backref" href="#id3" role="doc-backlink">Changes to the LLVM IR</a><a class="headerlink" href="#changes-to-the-llvm-ir" title="Link to this heading">¶</a></h3>
<ul class="simple">
<li><p>Unnamed function arguments now get printed with their automatically
generated name (e.g. “i32 %0”) in definitions. This may require front-ends
to update their tests; if so there is a script utils/add_argument_names.py
that correctly converted 80-90% of Clang tests. Some manual work will almost
certainly still be needed.</p></li>
<li><p>A new <code class="docutils literal notranslate"><span class="pre">freeze</span></code> instruction is added. The <code class="docutils literal notranslate"><span class="pre">freeze</span></code> instruction is used to stop
IR-level propagation of undef and poison values. Currently its support is
preliminary; a freeze-equivalent operation for SelDag/MIR needs to be added.</p></li>
</ul>
</section>
<section id="changes-to-the-aarch64-backend">
<h3><a class="toc-backref" href="#id4" role="doc-backlink">Changes to the AArch64 Backend</a><a class="headerlink" href="#changes-to-the-aarch64-backend" title="Link to this heading">¶</a></h3>
<ul class="simple">
<li><p>Added support for Cortex-A65, Cortex-A65AE, Neoverse E1 and Neoverse N1 cores.</p></li>
<li><p>With a few more bugs fixed in the LLVM 10 release, clang-cl can now target
Windows-on-ARM well, demonstrated by building complex pieces of software such
as Chromium and the Electron framework.</p></li>
<li><p>Support for <code class="docutils literal notranslate"><span class="pre">-fpatchable-function-entry</span></code> was added.</p></li>
</ul>
</section>
<section id="changes-to-the-arm-backend">
<h3><a class="toc-backref" href="#id5" role="doc-backlink">Changes to the ARM Backend</a><a class="headerlink" href="#changes-to-the-arm-backend" title="Link to this heading">¶</a></h3>
<ul class="simple">
<li><p>Optimized ARMv8.1-M code generation, including generating Low Overhead Loops.</p></li>
<li><p>Added auto-vectorization for the ARMv8.1-M MVE vector extension.</p></li>
<li><p>Support was added for inline asm constraints s,j,x,N,O.</p></li>
</ul>
</section>
<section id="changes-to-the-mips-target">
<h3><a class="toc-backref" href="#id6" role="doc-backlink">Changes to the MIPS Target</a><a class="headerlink" href="#changes-to-the-mips-target" title="Link to this heading">¶</a></h3>
<ul class="simple">
<li><p>Improved support for <code class="docutils literal notranslate"><span class="pre">octeon</span></code> and added support for <code class="docutils literal notranslate"><span class="pre">octeon+</span></code>
MIPS-family CPU.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">min</span></code>, <code class="docutils literal notranslate"><span class="pre">max</span></code>, <code class="docutils literal notranslate"><span class="pre">umin</span></code>, <code class="docutils literal notranslate"><span class="pre">umax</span></code> atomics now supported on MIPS targets.</p></li>
<li><p>Now PC-relative relocations are generated for <code class="docutils literal notranslate"><span class="pre">.eh_frame</span></code> sections when
possible. That allows to link MIPS binaries without having to pass the
<code class="docutils literal notranslate"><span class="pre">-Wl,-z,notext</span></code> option.</p></li>
<li><p>Fix evaluating J-format branch (<code class="docutils literal notranslate"><span class="pre">j</span></code>, <code class="docutils literal notranslate"><span class="pre">jal</span></code>, …) targets when the
instruction is not in the first 256 MB region.</p></li>
<li><p>Fixed <code class="docutils literal notranslate"><span class="pre">jal</span></code>, <code class="docutils literal notranslate"><span class="pre">sc</span></code>, <code class="docutils literal notranslate"><span class="pre">scs</span></code>, <code class="docutils literal notranslate"><span class="pre">ll</span></code>, <code class="docutils literal notranslate"><span class="pre">lld</span></code>, <code class="docutils literal notranslate"><span class="pre">la</span></code>, <code class="docutils literal notranslate"><span class="pre">lw</span></code>, <code class="docutils literal notranslate"><span class="pre">sw</span></code>
instructions expanding. Now they accept more types of expression as arguments,
correctly handle load/store for <code class="docutils literal notranslate"><span class="pre">XGOT</span></code> model, expand using less instructions
or registers.</p></li>
<li><p>Initial MIPS support has been added to <code class="docutils literal notranslate"><span class="pre">llvm-exegesis</span></code>.</p></li>
<li><p>Generates <code class="docutils literal notranslate"><span class="pre">_mcount</span></code> calls using proper MIPS ABI.</p></li>
<li><p>Improved support of GlobalISel instruction selection framework. This feature
is still in experimental state for MIPS targets though.</p></li>
</ul>
</section>
<section id="changes-to-the-powerpc-target">
<h3><a class="toc-backref" href="#id7" role="doc-backlink">Changes to the PowerPC Target</a><a class="headerlink" href="#changes-to-the-powerpc-target" title="Link to this heading">¶</a></h3>
<p>Optimization:</p>
<ul class="simple">
<li><p>Improved register pressure estimates in the loop vectorizer based on type</p></li>
<li><p>Improved the PowerPC cost model for the vectorizer</p></li>
<li><p>Enabled vectorization of math routines on PowerPC using MASSV (Mathematical Acceleration SubSystem) library</p></li>
</ul>
<p>compiler-rt:</p>
<ul class="simple">
<li><p>Added/improved conversion functions from IBM long double to 128-bit integers</p></li>
</ul>
<p>Codegen:</p>
<ul class="simple">
<li><p>Optimized memory access instructions in loops (pertaining to update-form instructions and address computation)</p></li>
<li><p>Added options to disable hoisting instructions to hotter blocks based on statically or profile-based block hotness estimates</p></li>
<li><p>Code generation improvements (particularly with floating point and vector code as well as handling condition registers)</p></li>
<li><p>Various infrastructural improvements, code refactoring, and bug fixes</p></li>
<li><p>Optimized handling of control flow based on multiple comparison of same values</p></li>
</ul>
<p>Tools:</p>
<ul class="simple">
<li><p>llvm-readobj supports displaying file header, section headers, symbol table and relocation entries for XCOFF object files</p></li>
<li><p>llvm-objdump supports disassembling physical sections for XCOFF object files</p></li>
</ul>
</section>
<section id="changes-to-the-systemz-target">
<h3><a class="toc-backref" href="#id8" role="doc-backlink">Changes to the SystemZ Target</a><a class="headerlink" href="#changes-to-the-systemz-target" title="Link to this heading">¶</a></h3>
<ul class="simple">
<li><p>Added support for the <code class="docutils literal notranslate"><span class="pre">-march=z15</span></code> and <code class="docutils literal notranslate"><span class="pre">-mtune=z15</span></code> command line options
(as aliases to the existing <code class="docutils literal notranslate"><span class="pre">-march=arch13</span></code> and <code class="docutils literal notranslate"><span class="pre">-mtune=arch13</span></code> options).</p></li>
<li><p>Added support for the <code class="docutils literal notranslate"><span class="pre">-march=native</span></code> command line option.</p></li>
<li><p>Added support for the <code class="docutils literal notranslate"><span class="pre">-mfentry</span></code>, <code class="docutils literal notranslate"><span class="pre">-mnop-mcount</span></code>, and <code class="docutils literal notranslate"><span class="pre">-mrecord-mcount</span></code>
command line options.</p></li>
<li><p>Added support for the GHC calling convention.</p></li>
<li><p>Miscellaneous codegen enhancements, in particular to enable better
reuse of condition code values and improved use of conditional
move instructions.</p></li>
</ul>
</section>
<section id="changes-to-the-x86-target">
<h3><a class="toc-backref" href="#id9" role="doc-backlink">Changes to the X86 Target</a><a class="headerlink" href="#changes-to-the-x86-target" title="Link to this heading">¶</a></h3>
<ul class="simple">
<li><p>Less-than-128-bit vector types, v2i32, v4i16, v2i16, v8i8, v4i8, and v2i8, are
now stored in the lower bits of an xmm register and the upper bits are
undefined. Previously the elements were spread apart with undefined bits in
between them.</p></li>
<li><p>v32i8 and v64i8 vectors with AVX512F enabled, but AVX512BW disabled will now
be passed in ZMM registers for calls and returns. Previously they were passed
in two YMM registers. Old behavior can be enabled by passing
<code class="docutils literal notranslate"><span class="pre">-x86-enable-old-knl-abi</span></code>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">-mprefer-vector-width=256</span></code> is now the default behavior skylake-avx512 and
later Intel CPUs. This tries to limit the use of 512-bit registers which can
cause a decrease in CPU frequency on these CPUs. This can be re-enabled by
passing <code class="docutils literal notranslate"><span class="pre">-mprefer-vector-width=512</span></code> to clang or passing
<code class="docutils literal notranslate"><span class="pre">-mattr=-prefer-256-bit</span></code> to llc.</p></li>
<li><p>Deprecated the mpx feature flag for the Intel MPX instructions. There were no
intrinsics for this feature. This change only this effects the results
returned by getHostCPUFeatures on CPUs that implement the MPX instructions.</p></li>
<li><p>The feature flag fast-partial-ymm-or-zmm-write which previously disabled
vzeroupper insertion has been removed. It has been replaced with a vzeroupper
feature flag which has the opposite polarity. So -vzeroupper has the same
effect as +fast-partial-ymm-or-zmm-write.</p></li>
</ul>
</section>
<section id="changes-to-the-webassembly-target">
<h3><a class="toc-backref" href="#id10" role="doc-backlink">Changes to the WebAssembly Target</a><a class="headerlink" href="#changes-to-the-webassembly-target" title="Link to this heading">¶</a></h3>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">__attribute__((used))</span></code> no longer implies that a symbol is exported, for
consistency with other targets.</p></li>
<li><p>Multivalue function signatures are now supported in WebAssembly object files</p></li>
<li><p>The new <code class="docutils literal notranslate"><span class="pre">atomic.fence</span></code> instruction is now supported</p></li>
<li><p>Thread-Local Storage (TLS) is now supported.</p></li>
<li><p>SIMD support is significantly expanded.</p></li>
</ul>
</section>
<section id="changes-to-the-windows-target">
<h3><a class="toc-backref" href="#id11" role="doc-backlink">Changes to the Windows Target</a><a class="headerlink" href="#changes-to-the-windows-target" title="Link to this heading">¶</a></h3>
<ul class="simple">
<li><p>Fixed section relative relocations in .debug_frame in DWARF debug info</p></li>
</ul>
</section>
<section id="changes-to-the-risc-v-target">
<h3><a class="toc-backref" href="#id12" role="doc-backlink">Changes to the RISC-V Target</a><a class="headerlink" href="#changes-to-the-risc-v-target" title="Link to this heading">¶</a></h3>
<p>New Features:</p>
<ul class="simple">
<li><p>The Machine Outliner is now supported, but not enabled by default.</p></li>
<li><p>Shrink-wrapping is now supported.</p></li>
<li><p>The Machine Scheduler has been enabled and scheduler descriptions for the
Rocket micro-architecture have been added, covering both 32- and 64-bit Rocket
cores.</p></li>
<li><p>This release lays the groundwork for enabling LTO in a future LLVM release.
In particular, LLVM now uses a new <code class="docutils literal notranslate"><span class="pre">target-abi</span></code> module metadata item to
represent the chosen RISC-V psABI variant. Frontends should add this module
flag to prevent ABI lowering problems when LTO is enabled in a future LLVM
release.</p></li>
<li><p>Support has been added for assembling RVC HINT instructions.</p></li>
<li><p>Added code lowering for half-precision floats.</p></li>
<li><p>The <code class="docutils literal notranslate"><span class="pre">fscsr</span></code> and <code class="docutils literal notranslate"><span class="pre">frcsr</span></code> (<code class="docutils literal notranslate"><span class="pre">fssr</span></code>, <code class="docutils literal notranslate"><span class="pre">frsr</span></code>) obsolete aliases have been added to
the assembler for use in legacy code.</p></li>
<li><p>The stack can now be realigned even when there are variable-sized objects in
the same frame.</p></li>
<li><p>fastcc is now supported. This is a more efficient, unstandardised, calling
convention for calls to private leaf functions in the same IR module.</p></li>
<li><p>llvm-objdump now supports <code class="docutils literal notranslate"><span class="pre">-M</span> <span class="pre">no-aliases</span></code> and <code class="docutils literal notranslate"><span class="pre">-M</span> <span class="pre">numeric</span></code> for altering the
dumped assembly. These match the behaviour of GNU objdump, respectively
disabling instruction aliases and printing the numeric register names rather
than the ABI register names.</p></li>
</ul>
<p>Improvements:</p>
<ul class="simple">
<li><p>Trap and Debugtrap now lower to RISC-V-specific trap instructions.</p></li>
<li><p>LLVM IR Inline assembly now supports using ABI register names and using
floating point registers in constraints.</p></li>
<li><p>Stack Pointer adjustments have been changed to better match RISC-V’s immediates.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">ra</span></code> (<code class="docutils literal notranslate"><span class="pre">x1</span></code>) can now be used as a callee-saved register.</p></li>
<li><p>The assembler now suggests spelling corrections for unknown assembly
mnemonics.</p></li>
<li><p>Stack offsets of greater than 32-bits are now accepted on RV64.</p></li>
<li><p>Variadic functions can now be tail-call optimised, as long as they do not use
stack memory for passing arguments.</p></li>
<li><p>Code generation has been changed for 32-bit arithmetic operations on RV64 to
reduce sign-extensions.</p></li>
</ul>
<p>Bug Fixes:</p>
<ul class="simple">
<li><p>There was an issue with register preservation after calls in interrupt
handlers, where some registers were marked as preserved even though they were
not being preserved by the call. This has been corrected, and now only
callee-saved registers are live over a function call in an interrupt handler
(just like calls in regular functions).</p></li>
<li><p>Atomic instructions now only accept GPRs (plus an offset) in memory operands.</p></li>
<li><p>Fixed some issues with evaluation of relocations and fixups.</p></li>
<li><p>The error messages around missing RISC-V extensions in the assembler have been
improved.</p></li>
<li><p>The error messages around unsupported relocations have been improved.</p></li>
<li><p>Non-PIC code no longer forces Local Exec TLS.</p></li>
<li><p>There have been some small changes to the code generation for atomic
operations.</p></li>
<li><p>RISC-V no longer emits incorrect CFI directives in function prologues and
epilogues.</p></li>
<li><p>RV64 no longer clears the upper bits when returning complex types from
libcalls using the LP64 psABI.</p></li>
</ul>
<p>Compiler-RT:</p>
<ul class="simple">
<li><p>RISC-V (both 64-bit and 32-bit) is now supported by compiler-rt, allowing
crtbegin and crtend to be built.</p></li>
<li><p>The Sanitizers now support 64-bit RISC-V on Linux.</p></li>
</ul>
</section>
<section id="changes-to-the-c-api">
<h3><a class="toc-backref" href="#id13" role="doc-backlink">Changes to the C API</a><a class="headerlink" href="#changes-to-the-c-api" title="Link to this heading">¶</a></h3>
<ul class="simple">
<li><p>C DebugInfo API <code class="docutils literal notranslate"><span class="pre">LLVMDIBuilderCreateTypedef</span></code> is updated to include an extra
argument <code class="docutils literal notranslate"><span class="pre">AlignInBits</span></code>, to facilitate / propagate specified Alignment information
present in a <code class="docutils literal notranslate"><span class="pre">typedef</span></code> to Debug information in LLVM IR.</p></li>
</ul>
</section>
<section id="changes-to-the-go-bindings">
<h3><a class="toc-backref" href="#id14" role="doc-backlink">Changes to the Go bindings</a><a class="headerlink" href="#changes-to-the-go-bindings" title="Link to this heading">¶</a></h3>
<ul class="simple">
<li><p>Go DebugInfo API <code class="docutils literal notranslate"><span class="pre">CreateTypedef</span></code> is updated to include an extra argument <code class="docutils literal notranslate"><span class="pre">AlignInBits</span></code>,
to facilitate / propagate specified Alignment information present in a <code class="docutils literal notranslate"><span class="pre">typedef</span></code>
to Debug information in LLVM IR.</p></li>
</ul>
</section>
</section>
<section id="changes-to-lldb">
<h2><a class="toc-backref" href="#id15" role="doc-backlink">Changes to LLDB</a><a class="headerlink" href="#changes-to-lldb" title="Link to this heading">¶</a></h2>
<ul class="simple">
<li><p>Improved support for building with MinGW</p></li>
<li><p>Initial support for debugging Windows ARM and ARM64 binaries</p></li>
<li><p>Improved error messages in the expression evaluator.</p></li>
<li><p>Tab completions for command options now also provide a description for each option.</p></li>
<li><p>Fixed that printing structs/classes with the <code class="docutils literal notranslate"><span class="pre">expression</span></code> command sometimes did not
print the members/contents of the class.</p></li>
<li><p>Improved support for using classes with bit-field members in the expression evaluator.</p></li>
<li><p>Greatly improved support for DWARF v5.</p></li>
</ul>
</section>
<section id="external-open-source-projects-using-llvm-10">
<h2><a class="toc-backref" href="#id16" role="doc-backlink">External Open Source Projects Using LLVM 10</a><a class="headerlink" href="#external-open-source-projects-using-llvm-10" title="Link to this heading">¶</a></h2>
<section id="zig-programming-language">
<h3><a class="toc-backref" href="#id17" role="doc-backlink">Zig Programming Language</a><a class="headerlink" href="#zig-programming-language" title="Link to this heading">¶</a></h3>
<p><a class="reference external" href="https://ziglang.org">Zig</a>  is a system programming language intended to be
an alternative to C. It provides high level features such as generics, compile
time function execution, and partial evaluation, while exposing low level LLVM
IR features such as aliases and intrinsics. Zig uses Clang to provide automatic
import of .h symbols, including inline functions and simple macros. Zig uses
LLD combined with lazily building compiler-rt to provide out-of-the-box
cross-compiling for all supported targets.</p>
</section>
</section>
<section id="additional-information">
<h2><a class="toc-backref" href="#id18" role="doc-backlink">Additional Information</a><a class="headerlink" href="#additional-information" title="Link to this heading">¶</a></h2>
<p>A wide variety of additional information is available on the <a class="reference external" href="https://llvm.org/">LLVM web page</a>, in particular in the <a class="reference external" href="https://llvm.org/docs/">documentation</a> section.  The web page also contains versions of the
API documentation which is up-to-date with the Subversion version of the source
code.  You can access versions of these documents specific to this release by
going into the <code class="docutils literal notranslate"><span class="pre">llvm/docs/</span></code> directory in the LLVM tree.</p>
<p>If you have any questions or comments about LLVM, please feel free to contact
us via the <a class="reference external" href="https://llvm.org/docs/#mailing-lists">mailing lists</a>.</p>
</section>
</section>


            <div class="clearer"></div>
          </div>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="Related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="MeetupGuidelines.html" title="How to start LLVM Social in your town"
             >next</a> |</li>
        <li class="right" >
          <a href="HowToAddABuilder.html" title="How To Add Your Build Configuration To LLVM Buildbot Infrastructure"
             >previous</a> |</li>
  <li><a href="https://llvm.org/">LLVM Home</a>&nbsp;|&nbsp;</li>
  <li><a href="index.html">Documentation</a>&raquo;</li>

          <li class="nav-item nav-item-1"><a href="GettingInvolved.html" >Getting Involved</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">LLVM 10.0.0 Release Notes</a></li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
    &#169; Copyright 2003-2025, LLVM Project.
      Last updated on 2025-11-11.
      Created using <a href="https://www.sphinx-doc.org/">Sphinx</a> 8.1.3.
    </div>
  </body>
</html>