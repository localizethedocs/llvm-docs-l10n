
<!DOCTYPE html>

<html lang="zh-TW" data-content_root="./">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>Callee Type Metadata &#8212; LLVM  說明文件</title>
    <link rel="stylesheet" type="text/css" href="_static/pygments.css?v=d75fae25" />
    <link rel="stylesheet" type="text/css" href="_static/llvm-theme.css?v=4c4af0c1" />
    <script src="_static/documentation_options.js?v=0d9984b1"></script>
    <script src="_static/doctools.js?v=9bcbadda"></script>
    <script src="_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="_static/translations.js?v=cbf116e0"></script>
    <link rel="canonical" href="https://projects.localizethedocs.org/llvm-docs-l10n/CalleeTypeMetadata.html" />
    <link rel="index" title="索引" href="genindex.html" />
    <link rel="search" title="搜尋" href="search.html" />
    <link rel="next" title=".callgraph Section Layout" href="CallGraphSection.html" />
    <link rel="prev" title="LLVM bugpoint tool: design and usage" href="Bugpoint.html" />
<script type="text/javascript" src="ltd-provenance.js"></script>
<script type="text/javascript" src="ltd-current.js"></script>
<script type="text/javascript" src="../../ltd-config.js"></script>
<script type="text/javascript" src="../../ltd-flyout.js"></script>

  </head><body>
<div class="logo">
  <a href="index.html">
    <img src="_static/logo.png"
         alt="LLVM Logo" width="250" height="88"/></a>
</div>

    <div class="related" role="navigation" aria-label="Related">
      <h3>瀏覽</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="總索引"
             accesskey="I">索引</a></li>
        <li class="right" >
          <a href="CallGraphSection.html" title=".callgraph Section Layout"
             accesskey="N">下一頁</a> |</li>
        <li class="right" >
          <a href="Bugpoint.html" title="LLVM bugpoint tool: design and usage"
             accesskey="P">上一頁</a> |</li>
  <li><a href="https://llvm.org/">LLVM Home</a>&nbsp;|&nbsp;</li>
  <li><a href="index.html">Documentation</a>&raquo;</li>

          <li class="nav-item nav-item-1"><a href="Reference.html" accesskey="U">Reference</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">Callee Type Metadata</a></li> 
      </ul>
    </div>

      <div class="sphinxsidebar" role="navigation" aria-label="Main">
        <div class="sphinxsidebarwrapper">

<h3>Documentation</h3>

<ul class="want-points">
    <li><a href="GettingStartedTutorials.html">Getting Started/Tutorials</a></li>
    <li><a href="UserGuides.html">使用者指南</a></li>
    <li><a href="Reference.html">Reference</a></li>
</ul>

<h3>Getting Involved</h3>

<ul class="want-points">
    <li><a href="Contributing.html">Contributing to LLVM</a></li>
    <li><a href="HowToSubmitABug.html">Submitting Bug Reports</a></li>
    <li><a href="GettingInvolved.html#mailing-lists">Mailing Lists</a></li>
    <li><a href="GettingInvolved.html#discord">Discord</a></li>
    <li><a href="GettingInvolved.html#meetups-and-social-events">Meetups and Social Events</a></li>
</ul>

<h3>Additional Links</h3>

<ul class="want-points">
    <li><a href="FAQ.html">FAQ</a></li>
    <li><a href="Lexicon.html">Glossary</a></li>
    <li><a href="https://llvm.org/pubs">Publications</a></li>
    <li><a href="https://github.com/llvm/llvm-project/">Github Repository</a></li>
</ul>
  <div role="note" aria-label="source link">
    <h3>本頁</h3>
    <ul class="this-page-menu">
      <li><a href="_sources/CalleeTypeMetadata.rst.txt"
            rel="nofollow">顯示原始碼</a></li>
    </ul>
   </div>
<search id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">快速搜尋</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="前往" />
    </form>
    </div>
</search>
<script>document.getElementById('searchbox').style.display = "block"</script>
        </div>
      </div>

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <section id="callee-type-metadata">
<h1>Callee Type Metadata<a class="headerlink" href="#callee-type-metadata" title="連結到這個標頭">¶</a></h1>
<section id="introduction">
<h2>簡介<a class="headerlink" href="#introduction" title="連結到這個標頭">¶</a></h2>
<p>This <code class="docutils literal notranslate"><span class="pre">!callee_type</span></code> metadata is introduced to support the generation of a call graph
section in the object file.  The <code class="docutils literal notranslate"><span class="pre">!callee_type</span></code> metadata is used
to identify the types of the intended callees of indirect call instructions. The <code class="docutils literal notranslate"><span class="pre">!callee_type</span></code> metadata is a
list of one or more generalized <code class="docutils literal notranslate"><span class="pre">!type</span></code> metadata objects (See <a class="reference internal" href="TypeMetadata.html"><span class="doc">Type Metadata</span></a>) with each <code class="docutils literal notranslate"><span class="pre">!type</span></code>
metadata pointing to a callee's <a class="reference internal" href="#calleetype-type-identifier"><span class="std std-ref">type identifier</span></a>.
LLVM's <a class="reference external" href="https://clang.llvm.org/docs/ControlFlowIntegrity.html">Control Flow Integrity (CFI)</a> also uses the <code class="docutils literal notranslate"><span class="pre">!type</span></code> metadata in its implementation.</p>
</section>
<section id="type-identifier">
<span id="calleetype-type-identifier"></span><h2>Type identifier<a class="headerlink" href="#type-identifier" title="連結到這個標頭">¶</a></h2>
<p>The type for an indirect call target is the callee's function signature.
Mapping from a type to an identifier is an ABI detail.
In the current implementation, an identifier of type T is
computed as follows:</p>
<blockquote>
<div><ul class="simple">
<li><p>Obtain the generalized mangled name for “typeinfo name for T”.</p></li>
<li><p>Compute MD5 hash of the name as a string.</p></li>
<li><p>Reinterpret the first 8 bytes of the hash as a little-endian 64-bit integer.</p></li>
</ul>
</div></blockquote>
<p>To avoid mismatched pointer types, generalizations are applied.
Pointers in return and argument types are treated as equivalent as long as the qualifiers for the
type they point to match. For example, <code class="docutils literal notranslate"><span class="pre">char*</span></code>, <code class="docutils literal notranslate"><span class="pre">char**</span></code>, and <code class="docutils literal notranslate"><span class="pre">int*</span></code> are considered equivalent
types. However, <code class="docutils literal notranslate"><span class="pre">char*</span></code> and <code class="docutils literal notranslate"><span class="pre">const</span> <span class="pre">char*</span></code> are considered distinct types.</p>
</section>
</section>


            <div class="clearer"></div>
          </div>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="Related">
      <h3>瀏覽</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="總索引"
             >索引</a></li>
        <li class="right" >
          <a href="CallGraphSection.html" title=".callgraph Section Layout"
             >下一頁</a> |</li>
        <li class="right" >
          <a href="Bugpoint.html" title="LLVM bugpoint tool: design and usage"
             >上一頁</a> |</li>
  <li><a href="https://llvm.org/">LLVM Home</a>&nbsp;|&nbsp;</li>
  <li><a href="index.html">Documentation</a>&raquo;</li>

          <li class="nav-item nav-item-1"><a href="Reference.html" >Reference</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">Callee Type Metadata</a></li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
    &#169; 版權所有 2003-2025, LLVM Project.
      最後更新於 2025-10-27。
      使用 <a href="https://www.sphinx-doc.org/">Sphinx</a> 8.1.3 建立。
    </div>
  </body>
</html>