
<!DOCTYPE html>

<html lang="zh-TW" data-content_root="./">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>Advice on Packaging LLVM &#8212; LLVM 7 說明文件</title>
    <link rel="stylesheet" type="text/css" href="_static/pygments.css?v=d75fae25" />
    <link rel="stylesheet" type="text/css" href="_static/llvm-theme.css?v=4c4af0c1" />
    <script src="_static/documentation_options.js?v=66322132"></script>
    <script src="_static/doctools.js?v=9bcbadda"></script>
    <script src="_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="_static/translations.js?v=cbf116e0"></script>
    <link rel="canonical" href="https://projects.localizethedocs.org/llvm-docs-l10n/Packaging.html" />
    <link rel="index" title="索引" href="genindex.html" />
    <link rel="search" title="搜尋" href="search.html" />
    <link rel="next" title="How To Validate a New Release" href="ReleaseProcess.html" />
    <link rel="prev" title="How To Release LLVM To The Public" href="HowToReleaseLLVM.html" />
<script type="text/javascript" src="ltd-provenance.js"></script>
<script type="text/javascript" src="ltd-current.js"></script>
<script type="text/javascript" src="../../ltd-config.js"></script>
<script type="text/javascript" src="../../ltd-flyout.js"></script>

  </head><body>
<div class="logo">
  <a href="index.html">
    <img src="_static/logo.png"
         alt="LLVM Logo" width="250" height="88"/></a>
</div>

    <div class="related" role="navigation" aria-label="Related">
      <h3>瀏覽</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="總索引"
             accesskey="I">索引</a></li>
        <li class="right" >
          <a href="ReleaseProcess.html" title="How To Validate a New Release"
             accesskey="N">下一頁</a> |</li>
        <li class="right" >
          <a href="HowToReleaseLLVM.html" title="How To Release LLVM To The Public"
             accesskey="P">上一頁</a> |</li>
  <li><a href="https://llvm.org/">LLVM Home</a>&nbsp;|&nbsp;</li>
  <li><a href="index.html">Documentation</a>&raquo;</li>

        <li class="nav-item nav-item-this"><a href="">Advice on Packaging LLVM</a></li> 
      </ul>
    </div>


    <div class="document">
      <div class="documentwrapper">
          <div class="body" role="main">
            
  <section id="advice-on-packaging-llvm">
<h1>Advice on Packaging LLVM<a class="headerlink" href="#advice-on-packaging-llvm" title="連結到這個標頭">¶</a></h1>
<nav class="contents local" id="id1">
<ul class="simple">
<li><p><a class="reference internal" href="#overview" id="id2">概覽</a></p></li>
<li><p><a class="reference internal" href="#compile-flags" id="id3">Compile Flags</a></p></li>
<li><p><a class="reference internal" href="#c-features" id="id4">C++ Features</a></p></li>
<li><p><a class="reference internal" href="#shared-library" id="id5">Shared Library</a></p></li>
<li><p><a class="reference internal" href="#dependencies" id="id6">Dependencies</a></p></li>
</ul>
</nav>
<section id="overview">
<h2><a class="toc-backref" href="#id2" role="doc-backlink">概覽</a><a class="headerlink" href="#overview" title="連結到這個標頭">¶</a></h2>
<p>LLVM sets certain default configure options to make sure our developers don't
break things for constrained platforms.  These settings are not optimal for most
desktop systems, and we hope that packagers (e.g., Redhat, Debian, MacPorts,
etc.) will tweak them.  This document lists settings we suggest you tweak.</p>
<p>LLVM's API changes with each release, so users are likely to want, for example,
both LLVM-2.6 and LLVM-2.7 installed at the same time to support apps developed
against each.</p>
</section>
<section id="compile-flags">
<h2><a class="toc-backref" href="#id3" role="doc-backlink">Compile Flags</a><a class="headerlink" href="#compile-flags" title="連結到這個標頭">¶</a></h2>
<p>LLVM runs much more quickly when it's optimized and assertions are removed.
However, such a build is currently incompatible with users who build without
defining <code class="docutils literal notranslate"><span class="pre">NDEBUG</span></code>, and the lack of assertions makes it hard to debug problems
in user code.  We recommend allowing users to install both optimized and debug
versions of LLVM in parallel.  The following configure flags are relevant:</p>
<dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">--disable-assertions</span></code></dt><dd><p>Builds LLVM with <code class="docutils literal notranslate"><span class="pre">NDEBUG</span></code> defined.  Changes the LLVM ABI.  Also available
by setting <code class="docutils literal notranslate"><span class="pre">DISABLE_ASSERTIONS=0|1</span></code> in <code class="docutils literal notranslate"><span class="pre">make</span></code>'s environment.  This
defaults to enabled regardless of the optimization setting, but it slows
things down.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">--enable-debug-symbols</span></code></dt><dd><p>Builds LLVM with <code class="docutils literal notranslate"><span class="pre">-g</span></code>.  Also available by setting <code class="docutils literal notranslate"><span class="pre">DEBUG_SYMBOLS=0|1</span></code> in
<code class="docutils literal notranslate"><span class="pre">make</span></code>'s environment.  This defaults to disabled when optimizing, so you
should turn it back on to let users debug their programs.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">--enable-optimized</span></code></dt><dd><p>(For svn checkouts) Builds LLVM with <code class="docutils literal notranslate"><span class="pre">-O2</span></code> and, by default, turns off
debug symbols.  Also available by setting <code class="docutils literal notranslate"><span class="pre">ENABLE_OPTIMIZED=0|1</span></code> in
<code class="docutils literal notranslate"><span class="pre">make</span></code>'s environment.  This defaults to enabled when not in a
checkout.</p>
</dd>
</dl>
</section>
<section id="c-features">
<h2><a class="toc-backref" href="#id4" role="doc-backlink">C++ Features</a><a class="headerlink" href="#c-features" title="連結到這個標頭">¶</a></h2>
<dl class="simple">
<dt>RTTI</dt><dd><p>LLVM disables RTTI by default.  Add <code class="docutils literal notranslate"><span class="pre">REQUIRES_RTTI=1</span></code> to your environment
while running <code class="docutils literal notranslate"><span class="pre">make</span></code> to re-enable it.  This will allow users to build with
RTTI enabled and still inherit from LLVM classes.</p>
</dd>
</dl>
</section>
<section id="shared-library">
<h2><a class="toc-backref" href="#id5" role="doc-backlink">Shared Library</a><a class="headerlink" href="#shared-library" title="連結到這個標頭">¶</a></h2>
<p>Configure with <code class="docutils literal notranslate"><span class="pre">--enable-shared</span></code> to build
<code class="docutils literal notranslate"><span class="pre">libLLVM-&lt;major&gt;.&lt;minor&gt;.(so|dylib)</span></code> and link the tools against it.  This
saves lots of binary size at the cost of some startup time.</p>
</section>
<section id="dependencies">
<h2><a class="toc-backref" href="#id6" role="doc-backlink">Dependencies</a><a class="headerlink" href="#dependencies" title="連結到這個標頭">¶</a></h2>
<dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">--enable-libffi</span></code></dt><dd><p>Depend on <a class="reference external" href="http://sources.redhat.com/libffi/">libffi</a> to allow the LLVM
interpreter to call external functions.</p>
</dd>
</dl>
<p><code class="docutils literal notranslate"><span class="pre">--with-oprofile</span></code></p>
<blockquote>
<div><p>Depend on <a class="reference external" href="http://oprofile.sourceforge.net/doc/devel/index.html">libopagent</a> (&gt;=version 0.9.4)
to let the LLVM JIT tell oprofile about function addresses and line
numbers.</p>
</div></blockquote>
</section>
</section>


            <div class="clearer"></div>
          </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="Related">
      <h3>瀏覽</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="總索引"
             >索引</a></li>
        <li class="right" >
          <a href="ReleaseProcess.html" title="How To Validate a New Release"
             >下一頁</a> |</li>
        <li class="right" >
          <a href="HowToReleaseLLVM.html" title="How To Release LLVM To The Public"
             >上一頁</a> |</li>
  <li><a href="https://llvm.org/">LLVM Home</a>&nbsp;|&nbsp;</li>
  <li><a href="index.html">Documentation</a>&raquo;</li>

        <li class="nav-item nav-item-this"><a href="">Advice on Packaging LLVM</a></li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
    &#169; 版權所有 2003-2025, LLVM Project.
      最後更新於 2025-11-11。
      使用 <a href="https://www.sphinx-doc.org/">Sphinx</a> 8.1.3 建立。
    </div>
  </body>
</html>